import{H as C,a as q,q as p,r as c,o,c as m,h as a,j as h,e as d,t as i,b as u,k as _,i as k,F as B,P as b,G as I}from"./entry.d7f90629.mjs";const S={data(){return{visibleIndex:10,showLoadModeBtn:!1,searchArticles:[],totalArticleCount:null,queryParams:[],nextSearchArticles:[],breadCrumbs:[{text:"Help Center",disabled:!1,to:"/"},{text:"Search Results",disabled:!0,to:"/"}]}},async mounted(){let t=q().query.query.toString();t.replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]/g,"").replace(/\s+/g," "),t.replace(/[^\w\s\']|_/g,"").replace(/\s+/g," ");let r=t.toLowerCase().split(" ");this.queryParams=[];for(var e=0;e<r.length;e++)this.queryParams.push({title:{$contains:r[e]}},{_path:{$contains:r[e],$not:/_index/i}},{_subcategory:{$contains:r[e]}});await this.getArticleCount(),this.queryArticle()},methods:{getArticleCount:async function(){const s=await p().where({$or:this.queryParams}).only("title").find();this.totalArticleCount=s.length},queryArticle:async function(){this.showLoadModeBtn=!1,this.totalArticleCount!=this.visibleIndex&&(this.nextSearchArticles=await p().where({$or:this.queryParams}).skip(this.visibleIndex-10).limit(this.visibleIndex).only(["title","_path","description"]).find(),this.searchArticles=this.searchArticles.concat(this.nextSearchArticles),this.totalArticleCount<=this.visibleIndex?(this.visibleIndex=this.totalArticleCount,this.showLoadModeBtn=!1):this.showLoadModeBtn=!0)},showMoreArticles:function(){this.visibleIndex+=10,this.queryArticle()},generateSubTitle:function(s){let n="";for(var t=0;t<s.body.children.length;t++)s.body.children[t].tag=="p"&&(n+=s.body.children[t].children[0].value);return n}}},L={key:0,class:"mb-6",style:{opacity:"0.5"}},M={key:0},P={class:"list-article-subtitle mt-3 mb-12"},F=b(" Show more ");function N(s,n,t,r,e,v){const x=c("v-icon"),f=c("v-breadcrumbs"),A=I,g=c("v-btn"),w=c("v-container");return o(),m(w,{style:{"max-width":"600px"}},{default:a(()=>[h(f,{items:e.breadCrumbs,class:"px-0"},{divider:a(()=>[h(x,{icon:"mdi-chevron-right"})]),_:1},8,["items"]),d("h1",null,i(s.query),1),e.totalArticleCount!=null?(o(),u("p",L," Showing "+i(e.visibleIndex)+" of "+i(e.totalArticleCount)+" results ",1)):_("",!0),(o(!0),u(B,null,k(e.searchArticles,(l,y)=>(o(),u("div",{key:y},[y<e.visibleIndex?(o(),u("div",M,[d("div",null,[h(A,{to:l._path},{default:a(()=>[b(i(l.title),1)]),_:2},1032,["to"])]),d("span",P,i(l.description),1)])):_("",!0)]))),128)),e.showLoadModeBtn?(o(),m(g,{key:1,color:"rgb(255, 136, 62)",style:{color:"white"},onClick:n[0]||(n[0]=l=>v.showMoreArticles())},{default:a(()=>[F]),_:1})):_("",!0)]),_:1})}const $=C(S,[["render",N]]);export{$ as default};
